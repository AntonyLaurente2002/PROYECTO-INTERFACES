<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link type="text/css" href="estilos.css" rel="stylesheet">
    <title>PÁGINA DE REGISTRO</title>
</head>
<body onload="init();">
    <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-success">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">I.E.P José M. Arguedas</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Recomendaciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="formulario.html">Escríbenos</a>
                    </li>
                    <li>
                        <a class="nav-link active" href="calculadora_registro.html">Registros</a>
                    </li>
                </ul>
                <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
        </nav>
    </header>
    <br>
    <br>
    <br>
    <h2 class="pb-2 border-bottom mt-3" id="calcut">Calculadora</h2>
    <table class="calculadora">
        <tr>
            <td colspan="4"><span id="resultado"></span></td>
        </tr>
        <tr>
            <td><button id="siete">7</button></td><td><button id="ocho">8</button></td><td><button id="nueve">9</button></td><td><button id="division">/</button></td>
        </tr>
        <tr>
            <td><button id="cuatro">4</button></td><td><button id="cinco">5</button></td><td><button id="seis">6</button></td><td><button id="multiplicacion">*</button></td>
        </tr>
        <tr>
            <td><button id="uno">1</button></td><td><button id="dos">2</button></td><td><button id="tres">3</button></td><td><button id="resta">-</button></td>
        </tr>
        <tr>
            <td><button id="igual">=</button></td><td><button id="reset">C</button></td><td><button id="cero">0</button></td><td><button id="suma">+</button></td>
        </tr>
        </table>
    
        <script src="accion.js"></script>
        <script type="text/javascript">
            function promedio()
                {
                    var porcentaje1=verificar("porcentaje1");
                    var porcentaje2=verificar("porcentaje2");
                    var porcentaje3=verificar("porcentaje3");
                    var porcentaje4=verificar("porcentaje4");
                    var porcentaje5=verificar("porcentaje5");
                    var porcentaje6=verificar("porcentaje6");
                    var porcentaje7=verificar("porcentaje7");
                    var porcentaje8=verificar("porcentaje8");
                    var porcentaje9=verificar("porcentaje9");
                    var porcentaje10=verificar("porcentaje10");
                    var pControl=verificar("pControl");
                    
                    
                    var nota1=verificar("nota1");
                    var nota2=verificar("nota2");
                    var nota3=verificar("nota3");
                    var nota4=verificar("nota4");
                    var nota5=verificar("nota5");
                    var nota6=verificar("nota6");
                    var nota7=verificar("nota7");
                    var nota8=verificar("nota8");
                    var nota9=verificar("nota9");
                    var nota10=verificar("nota10");
                    var promedioControl=verificar("promedioControl");
                    
            
                    // realizamos la suma de los valores y los ponemos en la casilla del
                    // formulario que contiene el total
                    var promedio=document.getElementById("total").value=
                    (parseInt(nota1)*0.25)+
                    (parseInt(nota2)*0.25)+
                    (parseInt(nota3)*0.25)+
                    (parseInt(nota4)*0.25)+
                    (parseInt(nota5)*(parseInt(porcentaje5)/100))+
                    (parseInt(nota6)*(parseInt(porcentaje6)/100))+
                    (parseInt(nota7)*(parseInt(porcentaje7)/100))+
                    (parseInt(nota8)*(parseInt(porcentaje8)/100))+
                    (parseInt(nota9)*(parseInt(porcentaje9)/100))+
                    (parseInt(nota10)*(parseInt(porcentaje10)/100))+
                    (parseInt(promedioControl)*(parseInt(pControl)/100));
                    
                    var nExamen=verificar("nExamen");
                    var pExamen=verificar("pExamen");
                    
                    //el promedio por el porcentaje del promedio
                    var notaUno=promedio*(100-parseInt(pExamen))/100;
                    
                    
                    
                    document.getElementById("pFinal").value=
                    (parseInt(nExamen)*parseInt(pExamen)/100)+notaUno;
                    
                    
                    var pPresenta= (100-parseInt(pExamen))/100;
                    
                    var pExamenListo = parseInt(pExamen)/100;
                    
                    var parte1 = 40-parseInt(pPresenta)*parseInt(promedio);
                    
                    
                    //que nota necesito para el examen
                    document.getElementById("notaQueNecesito").value= 
                    (40-(pPresenta*promedio))/pExamenListo;
                    
                    
                }
                
                
                function validar()
                {
                    var p1=verificar("porcentaje1");
                    var p2=verificar("porcentaje2");
                    var p3=verificar("porcentaje3");
                    var p4=verificar("porcentaje4");
                    var p5=verificar("porcentaje5");
                    var p6=verificar("porcentaje6");
                    var p7=verificar("porcentaje7");
                    var p8=verificar("porcentaje8");
                    var p9=verificar("porcentaje9");
                    var p10=verificar("porcentaje10");
                    var pC=verificar("pControl");
                    
                    
                    document.getElementById("totalPorcentajes").value=
                    parseInt(p1)+ parseInt(p2)+ parseInt(p3)+ 
                    parseInt(p4)+ parseInt(p5)+ parseInt(p6)+ 
                    parseInt(p7)+ parseInt(p8)+ parseInt(p9)+
                    parseInt(p10)+ parseInt(pC);
                    
                    var totalPorcentajes=document.getElementById("totalPorcentajes");

                    if(totalPorcentajes.value>100)
                    {
                    alert("Has sobrepasado el 100%");
                    obj.style.borderColor="#808080";
                        return value;
                    }
                    else{
                        }
                    
                }
                
                function verificar(id)
                {
                    var obj=document.getElementById(id);
                    if(obj.value=="")
                        value="0";
                    else
                        value=obj.value;
                    if(validate_importe(value))
                    {
                        // marcamos como erroneo
                        obj.style.borderColor="#808080";
                        return value;
                    }else{
                        // marcamos como erroneo
                        obj.style.borderColor="#f00";
                        return 0;
                    }
                }
                
                /**
                 * Funcion para validar el importe
                 * Tiene que recibir:
                 *  El valor del importe (Ej. document.formName.operator)
                 *  Determina si permite o no decimales [1-si|0-no]
                 * Devuelve:
                 *  true-Todo correcto
                 *  false-Incorrecto
                 */
                function validate_importe(value,decimal)
                {
                    if(decimal==undefined)
                        decimal=0;
            
                    if(decimal==1)
                    {
                        // Permite decimales tanto por . como por ,
                        var patron=new RegExp("^[0-9]+((,|\.)[0-9]{1,2})?$");
                    }else{
                        // Numero entero normal
                        var patron=new RegExp("^([0-9])*$")
                    }
            
                    if(value && value.search(patron)==0)
                    {
                        return true;
                    }
                    return false;
                }
            </script>
            <script type="text/javascript">
                function boton1(){
                document.getElementById('notaa5').style.display = 'table-row';
                document.getElementById('boton1').style.display = 'none';
                document.getElementById('boton2').style.display = 'table-row';}
                function boton2(){
                document.getElementById('notaa6').style.display = 'table-row';
                document.getElementById('boton2').style.display = 'none';
                document.getElementById('boton3').style.display = 'table-row';}
                function boton3(){
                document.getElementById('notaa7').style.display = 'table-row';
                document.getElementById('boton3').style.display = 'none';
                document.getElementById('boton4').style.display = 'table-row';}
                function boton4(){
                document.getElementById('notaa8').style.display = 'table-row';
                document.getElementById('boton4').style.display = 'none';
                document.getElementById('boton5').style.display = 'table-row';}
                function boton5(){
                document.getElementById('notaa9').style.display = 'table-row';
                document.getElementById('boton5').style.display = 'none';
                document.getElementById('boton6').style.display = 'table-row';}
                function boton6(){
                document.getElementById('notaa10').style.display = 'table-row';
                document.getElementById('boton6').style.display = 'none';}
                
                function botonControl1(){
                document.getElementById('promedioControles').style.display = 'table-row';
                document.getElementById('botonControl1').style.display = 'none';}
                
                function darExamen(){
                document.getElementById('notaExamen').style.display = 'table-row';
                document.getElementById('darExamen').style.display = 'none';
                document.getElementById('notaNecesito').style.display = 'table-row';
                }
                
                
                
                </script>
                    <br>
                
                  <style type="text/css">
                
                      #tablaNotas tr td {
                        width: auto;
                      }
                      #tablaNotas tr td input{
                        min-width: 50px;
                        width: 20%;
                      }
                  </style>
                    <h2 class="pb-2" id="calcut">Registro de Notas</h2>
                    <div class="table-responsive">
                    <table class="table table-hover" id="tablaNotas" allign="center" style="width:50%;" >
                        
                        <form method="POST"  id="estilo1" onKeyUp="promedio();">
                        <tr>
                          <td class="nota" >Nota 1</td>
                          <td> 
                            <input type="text" id="nota1" class="textNota form-control" onKeyUp="promedio();" onFocus="if (this.value=='0') this.value='';" value="0"   >
                          </td>
                          <td>
                            <input disabled type="text" id="porcentaje1" value="25" class="textPorcentaje form-control" onkeyup="promedio(); validar();" onFocus="if (this.value=='0') this.value='';" value="0" >
                          <td>%</td>
                          </td>
                        </tr>
                
                        <tr >
                      <td class="nota">Nota 2</td><td><input type="text" id="nota2" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();" >
                        <td><input disabled type="text" id="porcentaje2" value="25" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr>
                        <tr >
                        <td class="nota">Nota 3</td><td><input type="text" id="nota3" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();">
                        <td><input disabled type="text" id="porcentaje3" value="25" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr>
                        <tr id="notaa4">
                        <td class="nota" >Nota 4</td><td><input type="text" id="nota4" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input disabled type="text" id="porcentaje4" value="25" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr>
                        <tr style="display:none" id="notaa5">
                        <td class="nota" >Nota 5</td><td><input type="text" id="nota5" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje5" value="" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr>        
                        <tr style="display:none" id="notaa6" >
                        <td class="nota">Nota 6</td><td><input type="text" id="nota6" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje6" value="0" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr>   
                        <tr style="display:none" id="notaa7" >
                        <td class="nota">Nota 7</td><td><input type="text" id="nota7" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje7" value="0" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr> 
                        <tr style="display:none" id="notaa8" >
                        <td class="nota">Nota 8</td><td><input type="text" id="nota8" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje8" value="0" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();"><td>%</td></td>
                        </tr> 
                        <tr style="display:none" id="notaa9" >
                        <td class="nota">Nota 9</td><td><input type="text" id="nota9" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje9" value="0" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio();"><td>%</td></td>
                        </tr> 
                        <tr style="display:none" id="notaa10" >
                        <td class="nota">Nota 10</td><td><input type="text" id="nota10" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" style="width:20%;" onKeyUp="promedio();"></td>
                        <td><input type="text" id="porcentaje10" value="0" onFocus="if (this.value=='0') this.value='';" class="textPorcentaje form-control" style="width:20%;" onKeyUp="promedio(); validar();">
                        <td>%</td></td>
                        </tr>
                    </div>                   
                        
                        <table allign="center">
                        <tr id="promedioControles"  style="display:none">
                        <td><b>Notas Parciales</b></td><td><input type="number" id="promedioControl" value="0" onFocus="if (this.value=='0') this.value='';" class="textNota form-control" name="promedioControl" onKeyUp="promedio();"></td>
                        <td><input name="porcentajeControles" type="text" class="textNota form-control" id="pControl" value="0" onFocus="if (this.value=='0') this.value='';" onKeyUp="aprobar();"></td><td>%</td>
                        </tr>
                        <footer class="footer_mipromedio">  
                            <div class="footer_contenido">
                    
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="col-xs-6" allign="right">
                                        <label style="margin-left:5px;">Promedio</label>
                                        <input type="text" size="8" id="total" readonly value="0" class="form-control" style="max-width: 10%;min-width: 70px; margin-left: 5px;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                        <br>
                        </footer>
                        </table>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
</body>
</html>
